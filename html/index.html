<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-thread Performance Test</title>
<style>
    #results {
        margin-top: 20px;
    }
</style>
</head>
<body>
<h1>Multi-thread Performance Test</h1>
<div>
    <label for="numThreads">Number of Threads:</label>
    <input type="number" id="numThreads" min="1" value="1">
    <button onclick="startTest()">Start Test</button>
</div>
<div id="results"></div>

<script>
function startTest() {
    var numThreads = parseInt(document.getElementById('numThreads').value);
    var resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = '';

    for (var i = 0; i < numThreads; i++) {
        sendRequest(i);
    }
}

function sendRequest(threadId) {
    var startTime = performance.now();
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://localhost:10000/wt/finexo/index.html', true); // Replace localhost:8080 with your server's address
    xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            var endTime = performance.now();
            var duration = endTime - startTime;
            var resultDiv = document.createElement('div');
            resultDiv.textContent = 'Thread ' + threadId + ': Response Time - ' + duration.toFixed(2) + ' ms';
            document.getElementById('results').appendChild(resultDiv);
        }
    };
    xhr.send();
}
</script>
</body>
</html>
